DROP VIEW  `student_onboard_info_class_wechat_view`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `student_onboard_info_class_wechat_view` AS select `student_onboard_info`.`student_id` AS `student_id`,`student_onboard_info`.`state` AS `state`,`student_onboard_info`.`name` AS `name`,`student_onboard_info`.`sex` AS `sex`,`student_onboard_info`.`id_type` AS `id_type`,`student_onboard_info`.`id` AS `id`,`student_onboard_info`.`class_number` AS `class_number`,`student_class`.`grade` AS `grade`,`student_class`.`class_name` AS `class_name`,`student_onboard_info_wechat`.`user_id` AS `user_id`,`wechat_wx_user_info`.`photo` AS `photo`,`wechat_wx_user_info`.`nickname` AS `nickname`,`wechat_wx_user_info`.`user_name` AS `user_name`,`wechat_wx_user_info`.`phone` AS `phone`,`wechat_wx_user_info`.`group_id` AS `group_id`,`wechat_wx_user_info`.`register_date` AS `register_date`,`wechat_wx_user_info`.`openid` AS `openid`,`wechat_wx_user_info`.`sex` AS `parent_sex`,`wechat_wx_user_info`.`del_flag` AS `del_flag` from (((`student_onboard_info` join `student_onboard_info_wechat` on((`student_onboard_info`.`student_id` = `student_onboard_info_wechat`.`student_id`))) join `student_class` on((`student_onboard_info`.`class_number` = `student_class`.`class_id`))) join `wechat_wx_user_info` on((`student_onboard_info_wechat`.`user_id` = `wechat_wx_user_info`.`id`)));

ALTER TABLE `survey` ADD `first` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '提醒标题' AFTER `target_list`, ADD `remark` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL COMMENT '提醒内容' AFTER `first`;

